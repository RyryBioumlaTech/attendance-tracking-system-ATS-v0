<div class="px-4 pt-2 manage_sec">
    <h2>MANAGER</h2>
    <div>
        <div class="manage_form_sec">
            <div>
                <form action="/load/manage_data" method="post" data-target=".manager_data_table" class="d-flex flex-row gap-2">
                    <select name="department_id" id="" class="general-input">
                        {% for dep in departments %}
                            <option value="{{ dep.id}}">{{ dep.name }}</option>
                        {% endfor %}
                    </select>
                    <input type="submit" value="Search" class="button">
                </form>
            </div>
            <button id="show_form" class="button register-btn">Register an employee</button>
        </div>

        <div class="spinner-border text-success mt-3 global-spinner" role="status" style="display: none;">
            <span class="sr-only"></span>
        </div>
        <div class="manager_data_table"></div>

       

        <form action="/update_emp" method="post" data-target=".manager_data_table" id="update_form" style="display: none;">
           <div class="form_content">
                <input type="hidden" name="emp_id" id="input_id">
                <div>
                    <label for="input_name">Name</label>
                    <input type="text" name="emp_name" id="input_name">
                </div>
                <div>
                    <label for="input_surname">Surname</label>
                    <input type="text" name="emp_surname" id="input_surname">
                </div>
                <div>
                    <label for="input_email">Email</label>
                    <input type="email" name="emp_email" id="input_email">
                </div>
                <div>
                    <label for="input_sex">Sex</label>
                     <select name="emp_sex" id="input_sex" class="input_emp_sex" required>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <div class="d-flex justify-content-between">
                    <div>
                        <label for="input_position">Position</label>
                        <select name="emp_position" id="input_position">
                            {% for pos in positions %}
                                <option value="{{ pos.id}}">{{ pos.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label for="input_department">Department</label>
                        <select name="emp_department" id="input_department">
                            {% for dep in departments %}
                                <option value="{{ dep.id}}">{{ dep.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div>
                    <label for="emp_pass">New password</label>
                    <div class="d-flex flex-row gap-2">
                        <input type="text" name="updt_emp_pass" id="emp_pass" class="input_pass_g create_pass" autocomplete="new-password" readonly>
                        <button onclick="generate_pass('emp_pass')"  type="button" id="gen_updt" class="btn pass_btn"><i class="bi bi-lock-fill"></i></button>
                    </div>
                </div>
                <button type="submit">Update</button>   
           </div>
        </form>
            
        <form action="/create_emp" data-target=".message" method="post" id="register_form" style="display: none;">

            <div class="form_content">
                <div class="message"></div>
                <div>
                    <label for="input_emp_name">Name</label>
                    <input type="text" name="new_emp_name" id="input_emp_name" required>
                </div>
                <div>
                    <label for="input_emp_surname">Surname</label>
                    <input type="text" name="new_emp_surname" id="input_emp_surname" required>
                </div>
                <div>
                    <label for="input_emp_email">Email</label>
                    <input type="email" name="new_emp_email" id="input_emp_email" required>
                </div>
                <div>
                    <label for="input_emp_sex">Sex</label>
                    <select name="new_emp_sex" id="input_emp_sex" class="input_emp_sex" required>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <div class="d-flex justify-content-between">
                    <div>
                        <label for="input_emp_position">Position</label>
                        <select name="new_emp_position" id="input_emp_position">
                            {% for pos in positions %}
                                <option value="{{ pos.id}}">{{ pos.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label for="input_emp_department">Department</label>
                        <select name="new_emp_department" id="input_emp_department">
                            {% for dep in departments %}
                                <option value="{{ dep.id}}">{{ dep.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div>
                    <label for="input_emp_pass">Password</label>
                    <div class="d-flex flex-row gap-2">
                        <input type="text" name="emp_pass" id="input_emp_pass" class="input_pass_g" autocomplete="new-password"  readonly required>
                        <button onclick="generate_pass('input_emp_pass')" type="button" id="gen_creat" class="btn pass_btn"><i class="bi bi-lock-fill"></i></button>
                    </div>
                </div>
                <button type="submit">Create</button>
            </div>
        </form>
    </div>
</div>